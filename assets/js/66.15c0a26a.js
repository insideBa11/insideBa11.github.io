(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{353:function(e,o,a){"use strict";a.r(o);var t=a(14),i=Object(t.a)({},(function(){var e=this,o=e._self._c;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"_3-cookie"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_3-cookie"}},[e._v("#")]),e._v(" 3.cookie")]),e._v(" "),o("h2",{attrs:{id:"_1-为什么有-cookie"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_1-为什么有-cookie"}},[e._v("#")]),e._v(" 1. 为什么有 cookie")]),e._v(" "),o("p",[e._v("http 协议 --\x3e 无状态协议")]),e._v(" "),o("p",[e._v("客户端向服务端请求连接\n服务端返回的响应头里有字段：set-cookie，返回 cookie 给客户端 （前端无法触及）\n客户端收到 cookie 之后，会将其保存下来（浏览器完成，无关前端）\n之后客户端再继续向服务端通信都会携带上 cookie，以供多个请求的关联\n但是，每次请求都携带上 cookie，会增加网络的开销。所以使用 cookie 的时候，应该注意只存储一些轻量而重要的数据（例如登录状态）。")]),e._v(" "),o("h1",{attrs:{id:"cookie-的特性"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie-的特性"}},[e._v("#")]),e._v(" cookie 的特性")]),e._v(" "),o("h2",{attrs:{id:"_1-cookie-不可跨域"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_1-cookie-不可跨域"}},[e._v("#")]),e._v(" 1. cookie 不可跨域")]),e._v(" "),o("p",[e._v("但是可以通过设置 domain 这个属性，来实现跨一级域名和二级域名（例如：登陆www.baidu.com，然后打开zhidao.bai.com,也是登陆状态）")]),e._v(" "),o("h2",{attrs:{id:"_2-cookie-存储在浏览器里面"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_2-cookie-存储在浏览器里面"}},[e._v("#")]),e._v(" 2. cookie 存储在浏览器里面")]),e._v(" "),o("p",[e._v("准确的说，应该是 cookie 存储在浏览器安装目录下的某个文件内，只要是相同域名下的网站，浏览器就可以调用该域名的 cookie，来保持关联性\n但是由于每个浏览器的安装目录都不一样，所以在 A 浏览器登录的账号，到 B 浏览器要重新登录（在 Google 登录百度，到 Safari 还要重新登录一次）")]),e._v(" "),o("h2",{attrs:{id:"_3-cookie-有数量与大小的限制"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_3-cookie-有数量与大小的限制"}},[e._v("#")]),e._v(" 3. cookie 有数量与大小的限制")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",[o("code",[e._v("  1、数量在50个左右（超过数量浏览器会删除cookie，每个浏览器的删除规则不一样，有的是最长时间没登录的，有的是随机删除）\n  2、大小在4kb左右\n")])])]),o("h2",{attrs:{id:"_4-cookie-的存储时间非常灵活"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_4-cookie-的存储时间非常灵活"}},[e._v("#")]),e._v(" 4. cookie 的存储时间非常灵活")]),e._v(" "),o("p",[e._v("可以设置页面关闭就立马删除(会话期)，也可以设置几个月或者明年再删除")]),e._v(" "),o("h2",{attrs:{id:"_5-cookie-不光可以服务器设置-客户端-前端开发者-也可以设置"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_5-cookie-不光可以服务器设置-客户端-前端开发者-也可以设置"}},[e._v("#")]),e._v(" 5. cookie 不光可以服务器设置，客户端（前端开发者）也可以设置")]),e._v(" "),o("p",[e._v('document.cookie(可读可写) 形式 --\x3e key:value\ndocument.cookie = "name=muggle; age=17";\nconsole.log(document.cookie); // name=muggle age=17 这个字符串无效，cookie 一次只能设置一条键值对\ndocument.cookie = "age=17"; // 重新再设置一次 age=17 的 cookie\nconsole.log(document.cookie); // name=muggle; age=17')]),e._v(" "),o("h2",{attrs:{id:"_6-cookie-的属性"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_6-cookie-的属性"}},[e._v("#")]),e._v(" 6.cookie 的属性")]),e._v(" "),o("h3",{attrs:{id:"_1、name-cookie-的名字-name-就是键值对里的键-具有唯一性"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_1、name-cookie-的名字-name-就是键值对里的键-具有唯一性"}},[e._v("#")]),e._v(" 1、name --\x3e cookie 的名字(name 就是键值对里的键，具有唯一性)")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v('document.cookie = "name=daye";\ndocument.cookie = "age=20";\nconsole.log(document.cookie); // name=daye; age=20,name和age这两个键和上面的键重复了，值就会覆盖上面的“muggle”和“17”\n')])])]),o("h3",{attrs:{id:"_2、value-cookie-的值"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_2、value-cookie-的值"}},[e._v("#")]),e._v(" 2、value --\x3e cookie 的值")]),e._v(" "),o("h3",{attrs:{id:"_3、domain-设置-cookie-对哪个域是有效的-默认是当前页面的域名"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_3、domain-设置-cookie-对哪个域是有效的-默认是当前页面的域名"}},[e._v("#")]),e._v(" 3、domain --\x3e 设置 cookie 对哪个域是有效的(默认是当前页面的域名)")]),e._v(" "),o("h3",{attrs:{id:"_4、path-设置-cookie-的路径"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_4、path-设置-cookie-的路径"}},[e._v("#")]),e._v(" 4、path --\x3e 设置 cookie 的路径")]),e._v(" "),o("p",[e._v("domain 和 path 一个设置 cookie 的有效域名，一个设置 cookie 的有效路径")]),e._v(" "),o("h3",{attrs:{id:"_5、expires-设置-cookie-的过期时间-默认为会话期-http1-0"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_5、expires-设置-cookie-的过期时间-默认为会话期-http1-0"}},[e._v("#")]),e._v(" 5、expires --\x3e 设置 cookie 的过期时间(默认为会话期)(http1.0)")]),e._v(" "),o("p",[e._v('日期的格式是 GMT(格林尼治标准时间，中国按东八区的时间)\ndocument.cookie = "margin=20; expires=" + new Date(2028, 1, 1);')]),e._v(" "),o("h3",{attrs:{id:"_6、max-age-cookie-的有效期-和-expires-一样-用于设置-cookie-的有效周期-http1-1"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_6、max-age-cookie-的有效期-和-expires-一样-用于设置-cookie-的有效周期-http1-1"}},[e._v("#")]),e._v(" 6、max-age --\x3e cookie 的有效期(和 expires 一样，用于设置 cookie 的有效周期)(http1.1)")]),e._v(" "),o("p",[e._v('和 expires 的不同： - expires 设置的是 cookie 过期的时间点，max-age 的值是设置 cookie 能存在多长时间。比如 max-age=300；则 cookie 会在 300 秒后删除 - 协议版本不同\n几种特殊的值：—1(会话期临时 cookie，关闭窗口就消失)\n0(有效期已到)\ndocument.cookie = "padding=30; max-age=1";')]),e._v(" "),o("h3",{attrs:{id:"_7、httponly-有这个标记的-cookie-前端无法获取-只能在浏览器-应用-cookie-里看到"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_7、httponly-有这个标记的-cookie-前端无法获取-只能在浏览器-应用-cookie-里看到"}},[e._v("#")]),e._v(" 7、HttpOnly 有这个标记的 cookie，前端无法获取，只能在浏览器 --\x3e 应用 --\x3e cookie 里看到")]),e._v(" "),o("h3",{attrs:{id:"_8、secure-设置这个-cookie-只能通过-https-传输"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_8、secure-设置这个-cookie-只能通过-https-传输"}},[e._v("#")]),e._v(" 8、Secure 设置这个 cookie 只能通过 https 传输")]),e._v(" "),o("h3",{attrs:{id:"_9、samesite-设置-cookie-在跨域请求的时候不能被发送-有这个设置的-cookie-在网络请求的时候不会被发送到服务端"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#_9、samesite-设置-cookie-在跨域请求的时候不能被发送-有这个设置的-cookie-在网络请求的时候不会被发送到服务端"}},[e._v("#")]),e._v(" 9、SameSite 设置 cookie 在跨域请求的时候不能被发送(有这个设置的 cookie，在网络请求的时候不会被发送到服务端)")])])}),[],!1,null,null,null);o.default=i.exports}}]);